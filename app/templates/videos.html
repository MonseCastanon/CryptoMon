{% extends "base.html" %}
{% block content %}

<!-- Header -->
<div class="mb-4">
    <span class="section-badge badge-green">Contenido</span>
    <h2 class="neon-text-green mt-1" style="font-size:1.5rem;">Buscar Videos</h2>
</div>

<!-- Buscador -->
<form method="GET" class="mb-5 d-flex gap-2" style="max-width:520px;">
    <input type="text" name="q" value="{{ query }}"
           class="form-control"
           placeholder="Bitcoin, Ethereum, DeFi…">
    <button class="btn btn-neon-green px-4" type="submit">Buscar</button>
</form>

<!-- Grid de videos -->
<div class="row g-4">

{% if videos %}
    {% for video in videos %}
    <div class="col-md-6 col-lg-4">
        <div class="video-card">
            <img src="{{ video.snippet.thumbnails.medium.url }}"
                 alt="{{ video.snippet.title }}">

            <div class="video-card-body">
                <h6>{{ video.snippet.title }}</h6>
                <p class="vid-date mb-2">{{ video.snippet.publishedAt[:10] }}</p>
                <a href="https://www.youtube.com/watch?v={{ video.id.videoId }}"
                   target="_blank"
                   rel="noopener"
                   class="btn btn-neon-green btn-sm"
                   style="font-size:0.75rem; padding:0.3rem 0.9rem;">
                    ▶ Ver en YouTube
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="col-12">
        <p style="color:#7a7d99;">No se encontraron videos para "{{ query }}".</p>
    </div>
{% endif %}

</div>

{% endblock %}