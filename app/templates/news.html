{% extends "base.html" %}
{% block content %}

<span class="section-label fade-up fade-up-1"><i class="bi bi-newspaper me-1"></i>Actualidad</span>
<h2 class="neon-text mb-1 fade-up fade-up-1">Noticias del mercado</h2>
<p style="color: var(--text-muted); font-size:0.88rem;" class="mb-4 fade-up fade-up-1">
    Últimas noticias sobre criptomonedas y blockchain
</p>

<div class="row g-4 fade-up fade-up-2">

{% if articles %}
    {% for article in articles %}
    <div class="col-md-4 mb-2">
        <div class="card h-100">
            {% if article.urlToImage %}
            <img src="{{ article.urlToImage }}" class="card-img-top" alt="{{ article.title }}">
            {% else %}
            <div style="height:140px; background: var(--surface-1); border-radius:14px 14px 0 0; display:flex; align-items:center; justify-content:center;">
                <i class="bi bi-newspaper" style="font-size:2rem; color:var(--text-muted);"></i>
            </div>
            {% endif %}
            <div class="card-body p-3">
                <p style="font-size:0.75rem; color: var(--text-muted); margin-bottom:0.4rem;">
                    <i class="bi bi-clock me-1"></i>
                    {{ article.publishedAt[:10] if article.publishedAt else '' }}
                    {% if article.source.name %}
                    · <span style="color: var(--purple-light);">{{ article.source.name }}</span>
                    {% endif %}
                </p>
                <h5 style="font-size:0.92rem; line-height:1.4;">{{ article.title }}</h5>
                <p style="font-size:0.85rem; color: var(--text-secondary);">
                    {{ article.description[:120] ~ '...' if article.description and article.description|length > 120 else article.description }}
                </p>
                <a href="{{ article.url }}" target="_blank" rel="noopener" class="btn btn-outline-info btn-sm mt-auto">
                    Leer más <i class="bi bi-arrow-up-right ms-1"></i>
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="col-12">
        <div class="guide-card">
            <p><i class="bi bi-wifi-off me-2"></i>No hay noticias disponibles en este momento. Intenta más tarde.</p>
        </div>
    </div>
{% endif %}

</div>

{% endblock %}